<!DOCTYPE html>
<html>

<head>
  
  <meta charset="utf-8">
  <title>Visualisering</title>
  <script type="text/javascript" src="d3.js"></script>


</head>

<body>
  <h1>ecometer.dk - Dine Energikilder..</h1>
  <h2>Overbilk</h2>
  <p id="output"></p>

<script type="text/javascript">
    
      var savedText = localStorage.getItem("savedText");
    document.getElementById("output").innerHTML = savedText;
const w = 400;
const h = 500;

  // Lav en svg
  const svg = d3.select("body")
    .append("svg")
    .attr("width", w)
    .attr("height", h);

  d3.json("http://localhost:3000/categories").then( function(dataset) {

    // Lav s√∏jler
  svg.selectAll("rect")
    .data(dataset)
    .enter()
    .append("rect")
    .attr("x", function(d, i) { return w/(dataset.length*4) + i * (w/dataset.length); } )
    .attr("y", function(d) { return h/4; })
    .attr("width", w / (dataset.length*2))
    .attr("height", function(d) {return d.windpower; })
    .attr("fill", "blue");
  })  

</script>
</body>

</html>